<!DOCTYPE html>
<html lang="so">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOOSHIN EXCLUSIVE FILTER | HD</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
        
        /* Full Screen HD Camera */
        .viewport { position: relative; width: 100vw; height: 100vh; display: flex; justify-content: center; }
        
        #webcam {
            width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1);
            /* EXCLUSIVE FILTER: Iftiinka iyo quruxda halkan baa ku jirta */
            filter: brightness(1.12) contrast(1.1) saturate(1.25) sharpness(1.3);
        }

        /* Iftiinka Wajiga (Soft Glow) */
        .glow-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.3) 100%);
            pointer-events: none;
        }

        /* Badhanka Duubista (iPhone Style) */
        .ui-controls {
            position: absolute; bottom: 40px; width: 100%;
            display: flex; flex-direction: column; align-items: center;
        }

        .record-trigger {
            width: 75px; height: 75px; background: white;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;
        }

        .record-trigger.active { background: #ff003c; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        .status-badge {
            color: #fff; background: rgba(0,242,255,0.3);
            padding: 5px 15px; border-radius: 20px; font-size: 12px;
            margin-bottom: 15px; border: 1px solid #00f2ff;
        }
    </style>
</head>
<body>

    <div class="viewport">
        <video id="webcam" autoplay playsinline muted></video>
        <div class="glow-overlay"></div>

        <div class="ui-controls">
            <div class="status-badge" id="status">4K CINEMATIC MODE</div>
            <div class="record-trigger" id="recBtn" onclick="startProRecord()">
                <div style="width: 25px; height: 25px; background: red; border-radius: 50%;"></div>
            </div>
            <p style="color: white; font-size: 10px; margin-top: 10px;">KOOSHIN EXCLUSIVE FILTER Â© 2026</p>
        </div>
    </div>

    <script>
        let mediaRecorder;
        let chunks = [];
        const video = document.getElementById('webcam');

        async function initHD() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "user", width: { ideal: 1920 }, height: { ideal: 1080 }, frameRate: 60 },
                    audio: true
                });
                video.srcObject = stream;
            } catch (err) {
                alert("Fadlan oggolow kamaradda si aad u isticmaasho filter-ka gaarka ah.");
            }
        }

        function startProRecord() {
            const btn = document.getElementById('recBtn');
            const status = document.getElementById('status');

            if (!mediaRecorder || mediaRecorder.state === "inactive") {
                chunks = [];
                mediaRecorder = new MediaRecorder(video.srcObject);
                mediaRecorder.ondataavailable = e => chunks.push(e.data);
                mediaRecorder.onstop = () => {
                    const blob = new Blob(chunks, { type: 'video/mp4' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'Kooshin_Exclusive_HD.mp4';
                    a.click();
                };
                mediaRecorder.start();
                btn.classList.add('active');
                status.innerText = "RECORDING LIVE...";
            } else {
                mediaRecorder.stop();
                btn.classList.remove('active');
                status.innerText = "SAVING VIDEO...";
            }
        }

        initHD();
    </script>
</body>
</html>
